<!DOCTYPE html>
<html>

  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
      <link rel="stylesheet" href="menu.css">
      <script src="menu.js"></script>
      <title> Menu Page | Cara's Food Haven </title>
      <link rel="shortcut icon" type="x-icon" href="../RestaurantLogo-Cut.png">
  </head>

  <body>
      
    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->
    
    <nav>
      <span> <img src="../RestaurantLogo-Cut.png" class="RestaurantLogo_Nav"> </span>
      <div class="search-bar">
          <input type="text" placeholder="What are you looking for?">
          <button type="submit">Search</button>
      </div>
      <ul>
        <li><a href="#"><i class="fas fa-home"></i> <span>Home</span></a></li>
        <li><a href="#" id="current-page"><i class="fas fa-utensils"></i> <span>Menu</span></a></li>
        <li><a href="#"><i class="fas fa-receipt"></i> <span>My Orders</span></a></li>
        <li><a href="#"><i class="fas fa-info-circle"></i> <span>About Us</span></a></li>
      </ul>
      <ul>
        <li class="account-dropdown">
          <div class="account-info">
            <img id="account-img" src="../account-img-placeholder.jpg" alt="Avatar">
            <div>
              <span class="account-name">Account Name</span>
              <span class="account-role">Guest</span>
            </div>
            <i class="fas fa-caret-down" id="dropdown-arrow"></i>
          </div>
          <div class="dropdown-content">
            <a href="#">
              <i class="fas fa-sign-out-alt"></i> Login
            </a>
          </div>
        </li>
      </ul>
    </nav>
      
    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->

    <div class="verticalmenu_container">
      <div class="verticalmenu-section">
        <label class="verticalmenu-label">MENU CATEGORIES</label>
        <button class="verticalmenu-btn" id="1">
          <i class="fas fa-utensils"></i> Category #1
          <span class="notification-badge" style="display: none;">0</span>
        </button>
        <button class="verticalmenu-btn" id="2">
          <i class="fas fa-utensils"></i> Category #2
          <span class="notification-badge" style="display: none;">0</span>
        </button>
        <button class="verticalmenu-btn" id="3">
          <i class="fas fa-utensils"></i> Category #3
          <span class="notification-badge" style="display: none;">0</span>
        </button>
      </div>
    </div>
        
    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->

    <div id="confirm-order-modal" class="modal">
      <div id="confirm-order-content" class="modal-content">
  
          <form id="customer-form">
            <h2 id="confirm-order-header">CUSTOMER FORM</h2>
            <br>
            <!-- Order Type Selection -->
            <div class="form-group">
                <label for="order-type">Order Type:</label>
                <select id="order-type" name="order-type" required>
                  <option value="" disabled selected>--- Select the Order Type ---</option>
                  <option value="DINE IN">DINE IN</option>
                  <option value="TAKEOUT">TAKEOUT</option>
                  <option value="DELIVERY">DELIVERY</option>
                </select>
            </div>

            <!-- Payment Method Selection -->
            <div class="form-group" style="display: none">
                <label for="cash-amount">Cash Amount:</label>
                <input type="number" id="cash-amount" name="cash-amount" placeholder="Enter cash amount" min="0">
            </div>

            <div class="form-group">
                <label>Wire Transfer Options:</label>
                <div class="wire-transfer-options">
                    <button type="button" class="wire-transfer-btn" data-method="gcash">GCash</button>
                    <button type="button" class="wire-transfer-btn" data-method="paymaya">PayMaya</button>
                    <button type="button" class="wire-transfer-btn" data-method="bank-transfer">Bank Transfer</button>
                </div>
            </div>

            <!-- Customer Name -->
            <div class="form-group">
                <label for="customer-name">Customer Name:</label>
                <input type="text" id="customer-name" name="customer-name" placeholder="Enter your name" required>
            </div>

            <!-- Contact Number -->
            <div class="form-group">
                <label for="contact-number">Contact Number:</label>
                <input type="tel" id="contact-number" name="contact-number" placeholder="Enter your contact number" required>
            </div>

            <!-- Address -->
            <div class="form-group" style="display: none">
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" placeholder="Enter your address">
            </div>

            <!-- Email -->
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" placeholder="Enter your email">
            </div>
            <br>

            <button type="submit" id="confirm-order-btn">Confirm Details</button>
          </form>
      </div>
    </div>

    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->

    <div id="menu-item-modal" class="modal">
      <div id="menu-item-content" class="modal-content">
          <!-- Image Placeholder -->
          <div class="image-placeholder" style="text-align: center;">
              <img src="../img_placeholder.png" alt="Menu Item Image" id="modal-menu-item-img">
          </div>
          
          <br>
          
          <!-- Header -->
          <h2 id="menu-item-header" style="text-align: center;">MENU ITEM NAME</h2>
          
          <br>

          <!-- Price -->
          <p id="menu-item-price" style="text-align: center; font-weight: bold;">PRICE</p>

          <br>
          <br>
          <br>
          
          <!-- Description -->
          <p id="menu-item-desc" style="text-align: center;">MENU ITEM DESCRIPTION TEMPLATE</p>
      </div>
  </div>

    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->

    <!-- Notification Container -->
    <div id="notification-container"></div>

    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->









    
    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->

    <div class="container">

      <!-- ============================================================ -->

      <div class="container-left-side">

        <!-- =============== -->

        <div class="header_wrapper">
          <div class="header_container">
            <h2 id="menu-category-header">???</h2>
          </div>
        </div>

        <!-- =============== -->

        <div class="card-container">

          <!-- =============== -->

          <div class="card 1" id="1">
            <div class="card-img-container">
              <img src="../img_placeholder.png" alt="Menu Item Image" onclick="openModal('menu-item-modal', this)">
            </div>
            <h1>Menu Item #1</h1>
            <p>Php 100</p>
            <div class="quantity-controls">
              <button class="quantity-button" id="decrementQty" onclick="decrementQuantity(this)">-</button>
              <input type="text" class="quantity-input" placeholder="Qty" disabled>
              <button class="quantity-button" id="incrementQty" onclick="incrementQuantity(this)">+</button>
            </div>
          </div>

          <div class="card 1" id="2">
            <div class="card-img-container">
              <img src="../img_placeholder.png" alt="Menu Item Image" onclick="openModal('menu-item-modal', this)">
            </div>
            <h1>Menu Item #2</h1>
            <p>Php 200</p>
            <div class="quantity-controls">
              <button class="quantity-button" id="decrementQty" onclick="decrementQuantity(this)">-</button>
              <input type="text" class="quantity-input" placeholder="Qty" disabled>
              <button class="quantity-button" id="incrementQty" onclick="incrementQuantity(this)">+</button>
            </div>
          </div>

          <div class="card 1" id="3">
            <div class="card-img-container">
              <img src="../img_placeholder.png" alt="Menu Item Image" onclick="openModal('menu-item-modal', this)">
            </div>
            <h1>Menu Item #3</h1>
            <p>Php 300</p>
            <div class="quantity-controls">
              <button class="quantity-button" id="decrementQty" onclick="decrementQuantity(this)">-</button>
              <input type="text" class="quantity-input" placeholder="Qty" disabled>
              <button class="quantity-button" id="incrementQty" onclick="incrementQuantity(this)">+</button>
            </div>
          </div>

          <!-- =============== -->

          <div class="card 2" id="4">
            <div class="card-img-container">
              <img src="../img_placeholder.png" alt="Menu Item Image" onclick="openModal('menu-item-modal', this)">
            </div>
            <h1>Menu Item #4</h1>
            <p>Php 400</p>
            <div class="quantity-controls">
              <button class="quantity-button" id="decrementQty" onclick="decrementQuantity(this)">-</button>
              <input type="text" class="quantity-input" placeholder="Qty" disabled>
              <button class="quantity-button" id="incrementQty" onclick="incrementQuantity(this)">+</button>
            </div>
          </div>

          <div class="card 2" id="5">
            <div class="card-img-container">
              <img src="../img_placeholder.png" alt="Menu Item Image" onclick="openModal('menu-item-modal', this)">
            </div>
            <h1>Menu Item #5</h1>
            <p>Php 500</p>
            <div class="quantity-controls">
              <button class="quantity-button" id="decrementQty" onclick="decrementQuantity(this)">-</button>
              <input type="text" class="quantity-input" placeholder="Qty" disabled>
              <button class="quantity-button" id="incrementQty" onclick="incrementQuantity(this)">+</button>
            </div>
          </div>

          <div class="card 2" id="6">
            <div class="card-img-container">
              <img src="../img_placeholder.png" alt="Menu Item Image" onclick="openModal('menu-item-modal', this)">
            </div>
            <h1>Menu Item #6</h1>
            <p>Php 600</p>
            <div class="quantity-controls">
              <button class="quantity-button" id="decrementQty" onclick="decrementQuantity(this)">-</button>
              <input type="text" class="quantity-input" placeholder="Qty" disabled>
              <button class="quantity-button" id="incrementQty" onclick="incrementQuantity(this)">+</button>
            </div>
          </div>

          <!-- =============== -->

          <div class="card 3" id="7">
            <div class="card-img-container">
              <img src="../img_placeholder.png" alt="Menu Item Image" onclick="openModal('menu-item-modal', this)">
            </div>
            <h1>Menu Item #7</h1>
            <p>Php 700</p>
            <div class="quantity-controls">
              <button class="quantity-button" id="decrementQty" onclick="decrementQuantity(this)">-</button>
              <input type="text" class="quantity-input" placeholder="Qty" disabled>
              <button class="quantity-button" id="incrementQty" onclick="incrementQuantity(this)">+</button>
            </div>
          </div>

          <div class="card 3" id="8">
            <div class="card-img-container">
              <img src="../img_placeholder.png" alt="Menu Item Image" onclick="openModal('menu-item-modal', this)">
            </div>
            <h1>Menu Item #8</h1>
            <p>Php 800</p>
            <div class="quantity-controls">
              <button class="quantity-button" id="decrementQty" onclick="decrementQuantity(this)">-</button>
              <input type="text" class="quantity-input" placeholder="Qty" disabled>
              <button class="quantity-button" id="incrementQty" onclick="incrementQuantity(this)">+</button>
            </div>
          </div>

          <div class="card 3" id="9">
            <div class="card-img-container">
              <img src="../img_placeholder.png" alt="Menu Item Image" onclick="openModal('menu-item-modal', this)">
            </div>
            <h1>Menu Item #9</h1>
            <p>Php 900</p>
            <div class="quantity-controls">
              <button class="quantity-button" id="decrementQty" onclick="decrementQuantity(this)">-</button>
              <input type="text" class="quantity-input" placeholder="Qty" disabled>
              <button class="quantity-button" id="incrementQty" onclick="incrementQuantity(this)">+</button>
            </div>
          </div>

          <!-- =============== -->

        </div>

        <!-- =============== -->

      </div>

      <!-- ============================================================ -->

      <div class="container-right-side">

        <h2 class="right-side-header">ORDER SUMMARY</h2>
    
        <table class="order-summary-table">
          <thead>
              <tr>
                  <th>Menu Item</th>
                  <th>Price</th>
                  <th>Qty</th>
                  <th>Subtotal</th>
              </tr>
          </thead>
          <tbody>
            <!-- Empty message row -->
            <tr class="empty-message-row">
                <td colspan="4" class="empty-message">THIS IS WHERE YOUR ORDERS ARE DISPLAYED.</td>
            </tr>

            <!-- <tr>
                <td>???</td>
                <td>Php ???.??</td>
                <td>?</td>
                <td>Php ???.??</td>
            </tr> -->

            <!-- Total row -->
            <tr class="total-row">
                <td colspan="3" class="total-label">Total</td>
                <td class="total-amount">Php 0</td>
            </tr>

            <!-- Discount Code row -->
            <tr class="discount-row">
                <td colspan="3" class="discount-label">Discount Code</td>
                <td><input type="text" placeholder="Enter code here"></td>
            </tr>
          </tbody>
        </table>
    
        <br>
        <button class="confirm-order-button" onclick="openModal('confirm-order-modal')">Confirm Order</button>
        <br>
        <br>
        <br>
      </div>

      <!-- ============================================================ -->

    </div>
      
    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->







    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->

    <script>

      /*============================================================*/

      document.addEventListener("DOMContentLoaded", function() {

        // Add event listeners to vertical menu buttons
        const verticalMenuButtons = document.querySelectorAll(".verticalmenu-btn");
        const cards = document.querySelectorAll(".card");
        const categoryHeader = document.getElementById("menu-category-header");

        verticalMenuButtons.forEach(button => {
            button.addEventListener("click", function () {
                const targetId = button.id; // Get the clicked button's id

                // Extract text content before the span
                let textContentBeforeSpan = '';
                button.childNodes.forEach(node => {
                    if (node.nodeType === Node.TEXT_NODE) {
                        textContentBeforeSpan += node.textContent.trim();
                    } else if (node.nodeName === 'SPAN') {
                        return; // Stop if a span is encountered
                    }
                });

                // Set the category header text to the button's text content before the span
                categoryHeader.textContent = textContentBeforeSpan;

                // Toggle 'active' class for the buttons
                verticalMenuButtons.forEach(btn => btn.classList.remove("active"));
                button.classList.add("active");

                // Hide all cards and show only the ones with the matching class
                cards.forEach(card => {
                    if (card.classList.contains(targetId)) {
                        card.style.display = "block"; // Show matching cards
                    } else {
                        card.style.display = "none"; // Hide non-matching cards
                    }
                });
            });
        });

        // Automatically click the first button on page load
        window.addEventListener('DOMContentLoaded', () => {
            verticalMenuButtons[0].click(); // Click the first button
        });
        
        /*==============================*/

        // Add event listener to close any modal when clicking outside of the modal content
        document.addEventListener('click', function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });

        /*==============================*/

        const accountDropdown = document.querySelector('.account-dropdown');
        const dropdownArrow = document.getElementById('dropdown-arrow');

        accountDropdown.addEventListener('click', function(event) {
          event.stopPropagation(); // Prevent click from bubbling up
          accountDropdown.classList.toggle('active'); 

          // Toggle the arrow direction
          if (accountDropdown.classList.contains('active')) {
            dropdownArrow.classList.remove('fa-caret-down');
            dropdownArrow.classList.add('fa-caret-up');
          } else {
            dropdownArrow.classList.remove('fa-caret-up');
            dropdownArrow.classList.add('fa-caret-down');
          }
        });
        
        /*==============================*/

        document.addEventListener('click', function(event) {
          if (!accountDropdown.contains(event.target)) {
            accountDropdown.classList.remove('active'); 
            dropdownArrow.classList.remove('fa-caret-up');
            dropdownArrow.classList.add('fa-caret-down');
          }
        });
        
        /*==============================*/

      });
      
      /*============================================================*/

      document.getElementById('order-type').addEventListener('change', function () {
        const orderType = this.value;

        const cashAmountInput = document.getElementById('cash-amount');
        const cashAmountGroup = cashAmountInput.closest('.form-group'); // Cash Amount wrapper div
        const addressInput = document.getElementById('address');
        const contactNumberInput = document.getElementById('contact-number');

        // Reset visibility and required attributes
        cashAmountGroup.style.display = 'none'; // Hide cash amount field initially
        addressInput.closest('.form-group').style.display = 'none'; // Hide address field
        contactNumberInput.removeAttribute('required'); // Reset required attribute
        cashAmountInput.removeAttribute('required'); // Reset required attribute

        // Apply specific rules based on order type
        if (orderType === 'DINE IN' || orderType === 'TAKEOUT') {
          cashAmountGroup.style.display = 'block'; // Show cash amount field
          cashAmountInput.setAttribute('required', 'true'); // Make cash amount required
        } 
        if (orderType === 'DELIVERY') {
          addressInput.closest('.form-group').style.display = 'block'; // Show address field
          contactNumberInput.setAttribute('required', 'true'); // Make contact number required
        }
      });

      /*============================================================*/

    </script>
      
    <!-- ============================================================ -->
    <!-- ============================================================ -->
    <!-- ============================================================ -->
    
  </body>

</html>
